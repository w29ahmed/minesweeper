(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();const hn=!1;var Qt=Array.isArray,us=Array.prototype.indexOf,en=Array.from,cs=Object.defineProperty,gt=Object.getOwnPropertyDescriptor,nr=Object.getOwnPropertyDescriptors,ds=Object.prototype,vs=Array.prototype,Cn=Object.getPrototypeOf,Ln=Object.isExtensible;function hs(e){return typeof e=="function"}const Bt=()=>{};function ps(e){return e()}function pn(e){for(var t=0;t<e.length;t++)e[t]()}function rr(){var e,t,n=new Promise((r,s)=>{e=r,t=s});return{promise:n,resolve:e,reject:t}}const te=2,Wt=4,jt=8,sr=1<<24,ke=16,Be=32,ot=64,En=128,me=512,ee=1024,re=2048,Ce=4096,de=8192,Ae=16384,tn=32768,it=65536,Dn=1<<17,ir=1<<18,xt=1<<19,ar=1<<20,Pe=1<<25,at=32768,gn=1<<21,Mn=1<<22,He=1<<23,Qe=Symbol("$state"),gs=Symbol("legacy props"),ms=Symbol(""),ht=new class extends Error{name="StaleReactionError";message="The reaction that called `getAbortSignal()` was re-run or destroyed"};function lr(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}function _s(){throw new Error("https://svelte.dev/e/async_derived_orphan")}function bs(e){throw new Error("https://svelte.dev/e/effect_in_teardown")}function ws(){throw new Error("https://svelte.dev/e/effect_in_unowned_derived")}function ys(e){throw new Error("https://svelte.dev/e/effect_orphan")}function xs(){throw new Error("https://svelte.dev/e/effect_update_depth_exceeded")}function Ss(e){throw new Error("https://svelte.dev/e/props_invalid_value")}function ks(){throw new Error("https://svelte.dev/e/state_descriptors_fixed")}function Cs(){throw new Error("https://svelte.dev/e/state_prototype_fixed")}function Es(){throw new Error("https://svelte.dev/e/state_unsafe_mutation")}function Ms(){throw new Error("https://svelte.dev/e/svelte_boundary_reset_onerror")}const Ts=1,Ps=2,or=4,As=8,Fs=16,Rs=1,Bs=2,Ns=4,Os=8,Is=16,Ls=1,Ds=2,js=4,zs=1,Hs=2,Q=Symbol(),qs="http://www.w3.org/1999/xhtml";function Ks(){console.warn("https://svelte.dev/e/svelte_boundary_reset_noop")}function fr(e){return e===this.v}function Gs(e,t){return e!=e?t==t:e!==t||e!==null&&typeof e=="object"||typeof e=="function"}function ur(e){return!Gs(e,this.v)}let St=!1,$s=!1;function Us(){St=!0}let H=null;function mt(e){H=e}function kt(e,t=!1,n){H={p:H,i:!1,c:null,e:null,s:e,x:null,l:St&&!t?{s:null,u:null,$:[]}:null}}function Ct(e){var t=H,n=t.e;if(n!==null){t.e=null;for(var r of n)Tr(r)}return t.i=!0,H=t.p,{}}function Et(){return!St||H!==null&&H.l===null}let Je=[];function cr(){var e=Je;Je=[],pn(e)}function xe(e){if(Je.length===0&&!It){var t=Je;queueMicrotask(()=>{t===Je&&cr()})}Je.push(e)}function Ys(){for(;Je.length>0;)cr()}function dr(e){var t=B;if(t===null)return F.f|=He,e;if((t.f&tn)===0){if((t.f&En)===0)throw e;t.b.error(e)}else _t(e,t)}function _t(e,t){for(;t!==null;){if((t.f&En)!==0)try{t.b.error(e);return}catch(n){e=n}t=t.parent}throw e}const Vs=-7169;function V(e,t){e.f=e.f&Vs|t}function Tn(e){(e.f&me)!==0||e.deps===null?V(e,ee):V(e,Ce)}function vr(e){if(e!==null)for(const t of e)(t.f&te)===0||(t.f&at)===0||(t.f^=at,vr(t.deps))}function hr(e,t,n){(e.f&re)!==0?t.add(e):(e.f&Ce)!==0&&n.add(e),vr(e.deps),V(e,ee)}const Gt=new Set;let K=null,_e=null,ue=[],nn=null,mn=!1,It=!1;class qe{committed=!1;current=new Map;previous=new Map;#t=new Set;#a=new Set;#e=0;#s=0;#i=null;#r=new Set;#n=new Set;skipped_effects=new Set;is_fork=!1;#l=!1;is_deferred(){return this.is_fork||this.#s>0}process(t){ue=[],this.apply();var n=[],r=[];for(const s of t)this.#o(s,n,r);if(this.is_deferred())this.#f(r),this.#f(n);else{for(const s of this.#t)s();this.#t.clear(),this.#e===0&&this.#u(),K=null,jn(r),jn(n),this.#i?.resolve()}_e=null}#o(t,n,r){t.f^=ee;for(var s=t.first,i=null;s!==null;){var a=s.f,l=(a&(Be|ot))!==0,o=l&&(a&ee)!==0,f=o||(a&de)!==0||this.skipped_effects.has(s);if(!f&&s.fn!==null){l?s.f^=ee:i!==null&&(a&(Wt|jt|sr))!==0?i.b.defer_effect(s):(a&Wt)!==0?n.push(s):Mt(s)&&((a&ke)!==0&&this.#r.add(s),yt(s));var c=s.first;if(c!==null){s=c;continue}}var v=s.parent;for(s=s.next;s===null&&v!==null;)v===i&&(i=null),s=v.next,v=v.parent}}#f(t){for(var n=0;n<t.length;n+=1)hr(t[n],this.#r,this.#n)}capture(t,n){n!==Q&&!this.previous.has(t)&&this.previous.set(t,n),(t.f&He)===0&&(this.current.set(t,t.v),_e?.set(t,t.v))}activate(){K=this,this.apply()}deactivate(){K===this&&(K=null,_e=null)}flush(){if(this.activate(),ue.length>0){if(pr(),K!==null&&K!==this)return}else this.#e===0&&this.process([]);this.deactivate()}discard(){for(const t of this.#a)t(this);this.#a.clear()}#u(){if(Gt.size>1){this.previous.clear();var t=_e,n=!0;for(const s of Gt){if(s===this){n=!1;continue}const i=[];for(const[l,o]of this.current){if(s.current.has(l))if(n&&o!==s.current.get(l))s.current.set(l,o);else continue;i.push(l)}if(i.length===0)continue;const a=[...s.current.keys()].filter(l=>!this.current.has(l));if(a.length>0){var r=ue;ue=[];const l=new Set,o=new Map;for(const f of i)gr(f,a,l,o);if(ue.length>0){K=s,s.apply();for(const f of ue)s.#o(f,[],[]);s.deactivate()}ue=r}}K=null,_e=t}this.committed=!0,Gt.delete(this)}increment(t){this.#e+=1,t&&(this.#s+=1)}decrement(t){this.#e-=1,t&&(this.#s-=1),!this.#l&&(this.#l=!0,xe(()=>{this.#l=!1,this.is_deferred()?ue.length>0&&this.flush():this.revive()}))}revive(){for(const t of this.#r)this.#n.delete(t),V(t,re),Re(t);for(const t of this.#n)V(t,Ce),Re(t);this.flush()}oncommit(t){this.#t.add(t)}ondiscard(t){this.#a.add(t)}settled(){return(this.#i??=rr()).promise}static ensure(){if(K===null){const t=K=new qe;Gt.add(K),It||xe(()=>{K===t&&t.flush()})}return K}apply(){}}function Ws(e){var t=It;It=!0;try{for(var n;;){if(Ys(),ue.length===0&&(K?.flush(),ue.length===0))return nn=null,n;pr()}}finally{It=t}}function pr(){mn=!0;var e=null;try{for(var t=0;ue.length>0;){var n=qe.ensure();if(t++>1e3){var r,s;Js()}n.process(ue),Ke.clear()}}finally{mn=!1,nn=null}}function Js(){try{xs()}catch(e){_t(e,nn)}}let Me=null;function jn(e){var t=e.length;if(t!==0){for(var n=0;n<t;){var r=e[n++];if((r.f&(Ae|de))===0&&Mt(r)&&(Me=new Set,yt(r),r.deps===null&&r.first===null&&r.nodes===null&&(r.teardown===null&&r.ac===null?Rr(r):r.fn=null),Me?.size>0)){Ke.clear();for(const s of Me){if((s.f&(Ae|de))!==0)continue;const i=[s];let a=s.parent;for(;a!==null;)Me.has(a)&&(Me.delete(a),i.push(a)),a=a.parent;for(let l=i.length-1;l>=0;l--){const o=i[l];(o.f&(Ae|de))===0&&yt(o)}}Me.clear()}}Me=null}}function gr(e,t,n,r){if(!n.has(e)&&(n.add(e),e.reactions!==null))for(const s of e.reactions){const i=s.f;(i&te)!==0?gr(s,t,n,r):(i&(Mn|ke))!==0&&(i&re)===0&&mr(s,t,r)&&(V(s,re),Re(s))}}function mr(e,t,n){const r=n.get(e);if(r!==void 0)return r;if(e.deps!==null)for(const s of e.deps){if(t.includes(s))return!0;if((s.f&te)!==0&&mr(s,t,n))return n.set(s,!0),!0}return n.set(e,!1),!1}function Re(e){for(var t=nn=e;t.parent!==null;){t=t.parent;var n=t.f;if(mn&&t===B&&(n&ke)!==0&&(n&ir)===0)return;if((n&(ot|Be))!==0){if((n&ee)===0)return;t.f^=ee}}ue.push(t)}function Xs(e){let t=0,n=lt(0),r;return()=>{An()&&(u(n),sn(()=>(t===0&&(r=M(()=>e(()=>Lt(n)))),t+=1,()=>{xe(()=>{t-=1,t===0&&(r?.(),r=void 0,Lt(n))})})))}}var Zs=it|xt|En;function Qs(e,t,n){new ei(e,t,n)}class ei{parent;is_pending=!1;#t;#a=null;#e;#s;#i;#r=null;#n=null;#l=null;#o=null;#f=null;#u=0;#d=0;#h=!1;#v=!1;#p=new Set;#g=new Set;#c=null;#y=Xs(()=>(this.#c=lt(this.#u),()=>{this.#c=null}));constructor(t,n,r){this.#t=t,this.#e=n,this.#s=r,this.parent=B.b,this.is_pending=!!this.#e.pending,this.#i=an(()=>{B.b=this;{var s=this.#b();try{this.#r=pe(()=>r(s))}catch(i){this.error(i)}this.#d>0?this.#_():this.is_pending=!1}return()=>{this.#f?.remove()}},Zs)}#x(){try{this.#r=pe(()=>this.#s(this.#t))}catch(t){this.error(t)}}#S(){const t=this.#e.pending;t&&(this.#n=pe(()=>t(this.#t)),xe(()=>{var n=this.#b();this.#r=this.#m(()=>(qe.ensure(),pe(()=>this.#s(n)))),this.#d>0?this.#_():(et(this.#n,()=>{this.#n=null}),this.is_pending=!1)}))}#b(){var t=this.#t;return this.is_pending&&(this.#f=Ge(),this.#t.before(this.#f),t=this.#f),t}defer_effect(t){hr(t,this.#p,this.#g)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#e.pending}#m(t){var n=B,r=F,s=H;Se(this.#i),ae(this.#i),mt(this.#i.ctx);try{return t()}catch(i){return dr(i),null}finally{Se(n),ae(r),mt(s)}}#_(){const t=this.#e.pending;this.#r!==null&&(this.#o=document.createDocumentFragment(),this.#o.append(this.#f),Or(this.#r,this.#o)),this.#n===null&&(this.#n=pe(()=>t(this.#t)))}#w(t){if(!this.has_pending_snippet()){this.parent&&this.parent.#w(t);return}if(this.#d+=t,this.#d===0){this.is_pending=!1;for(const n of this.#p)V(n,re),Re(n);for(const n of this.#g)V(n,Ce),Re(n);this.#p.clear(),this.#g.clear(),this.#n&&et(this.#n,()=>{this.#n=null}),this.#o&&(this.#t.before(this.#o),this.#o=null)}}update_pending_count(t){this.#w(t),this.#u+=t,!(!this.#c||this.#h)&&(this.#h=!0,xe(()=>{this.#h=!1,this.#c&&bt(this.#c,this.#u)}))}get_effect_pending(){return this.#y(),u(this.#c)}error(t){var n=this.#e.onerror;let r=this.#e.failed;if(this.#v||!n&&!r)throw t;this.#r&&(le(this.#r),this.#r=null),this.#n&&(le(this.#n),this.#n=null),this.#l&&(le(this.#l),this.#l=null);var s=!1,i=!1;const a=()=>{if(s){Ks();return}s=!0,i&&Ms(),qe.ensure(),this.#u=0,this.#l!==null&&et(this.#l,()=>{this.#l=null}),this.is_pending=this.has_pending_snippet(),this.#r=this.#m(()=>(this.#v=!1,pe(()=>this.#s(this.#t)))),this.#d>0?this.#_():this.is_pending=!1};var l=F;try{ae(null),i=!0,n?.(t,a),i=!1}catch(o){_t(o,this.#i&&this.#i.parent)}finally{ae(l)}r&&xe(()=>{this.#l=this.#m(()=>{qe.ensure(),this.#v=!0;try{return pe(()=>{r(this.#t,()=>t,()=>a)})}catch(o){return _t(o,this.#i.parent),null}finally{this.#v=!1}})})}}function ti(e,t,n,r){const s=Et()?rn:Xe;var i=e.filter(d=>!d.settled);if(n.length===0&&i.length===0){r(t.map(s));return}var a=K,l=B,o=ni(),f=i.length===1?i[0].promise:i.length>1?Promise.all(i.map(d=>d.promise)):null;function c(d){o();try{r(d)}catch(h){(l.f&Ae)===0&&_t(h,l)}a?.deactivate(),_n()}if(n.length===0){f.then(()=>c(t.map(s)));return}function v(){o(),Promise.all(n.map(d=>ri(d))).then(d=>c([...t.map(s),...d])).catch(d=>_t(d,l))}f?f.then(v):v()}function ni(){var e=B,t=F,n=H,r=K;return function(i=!0){Se(e),ae(t),mt(n),i&&r?.activate()}}function _n(){Se(null),ae(null),mt(null)}function rn(e){var t=te|re,n=F!==null&&(F.f&te)!==0?F:null;return B!==null&&(B.f|=xt),{ctx:H,deps:null,effects:null,equals:fr,f:t,fn:e,reactions:null,rv:0,v:Q,wv:0,parent:n??B,ac:null}}function ri(e,t,n){let r=B;r===null&&_s();var s=r.b,i=void 0,a=lt(Q),l=!F,o=new Map;return ci(()=>{var f=rr();i=f.promise;try{Promise.resolve(e()).then(f.resolve,f.reject).then(()=>{c===K&&c.committed&&c.deactivate(),_n()})}catch(h){f.reject(h),_n()}var c=K;if(l){var v=s.is_rendered();s.update_pending_count(1),c.increment(v),o.get(c)?.reject(ht),o.delete(c),o.set(c,f)}const d=(h,g=void 0)=>{if(c.activate(),g)g!==ht&&(a.f|=He,bt(a,g));else{(a.f&He)!==0&&(a.f^=He),bt(a,h);for(const[_,p]of o){if(o.delete(_),_===c)break;p.reject(ht)}}l&&(s.update_pending_count(-1),c.decrement(v))};f.promise.then(d,h=>d(null,h||"unknown"))}),Mr(()=>{for(const f of o.values())f.reject(ht)}),new Promise(f=>{function c(v){function d(){v===i?f(a):c(i)}v.then(d,d)}c(i)})}function Xe(e){const t=rn(e);return t.equals=ur,t}function _r(e){var t=e.effects;if(t!==null){e.effects=null;for(var n=0;n<t.length;n+=1)le(t[n])}}function si(e){for(var t=e.parent;t!==null;){if((t.f&te)===0)return(t.f&Ae)===0?t:null;t=t.parent}return null}function Pn(e){var t,n=B;Se(si(e));try{e.f&=~at,_r(e),t=jr(e)}finally{Se(n)}return t}function br(e){var t=Pn(e);if(!e.equals(t)&&(e.wv=Lr(),(!K?.is_fork||e.deps===null)&&(e.v=t,e.deps===null))){V(e,ee);return}$e||(_e!==null?(An()||K?.is_fork)&&_e.set(e,t):Tn(e))}let bn=new Set;const Ke=new Map;let wr=!1;function lt(e,t){var n={f:0,v:e,reactions:null,equals:fr,rv:0,wv:0};return n}function Oe(e,t){const n=lt(e);return hi(n),n}function L(e,t=!1,n=!0){const r=lt(e);return t||(r.equals=ur),St&&n&&H!==null&&H.l!==null&&(H.l.s??=[]).push(r),r}function m(e,t,n=!1){F!==null&&(!be||(F.f&Dn)!==0)&&Et()&&(F.f&(te|ke|Mn|Dn))!==0&&!Fe?.includes(e)&&Es();let r=n?pt(t):t;return bt(e,r)}function bt(e,t){if(!e.equals(t)){var n=e.v;$e?Ke.set(e,t):Ke.set(e,n),e.v=t;var r=qe.ensure();if(r.capture(e,n),(e.f&te)!==0){const s=e;(e.f&re)!==0&&Pn(s),Tn(s)}e.wv=Lr(),yr(e,re),Et()&&B!==null&&(B.f&ee)!==0&&(B.f&(Be|ot))===0&&(he===null?pi([e]):he.push(e)),!r.is_fork&&bn.size>0&&!wr&&ii()}return t}function ii(){wr=!1;for(const e of bn)(e.f&ee)!==0&&V(e,Ce),Mt(e)&&yt(e);bn.clear()}function Lt(e){m(e,e.v+1)}function yr(e,t){var n=e.reactions;if(n!==null)for(var r=Et(),s=n.length,i=0;i<s;i++){var a=n[i],l=a.f;if(!(!r&&a===B)){var o=(l&re)===0;if(o&&V(a,t),(l&te)!==0){var f=a;_e?.delete(f),(l&at)===0&&(l&me&&(a.f|=at),yr(f,Ce))}else o&&((l&ke)!==0&&Me!==null&&Me.add(a),Re(a))}}}function pt(e){if(typeof e!="object"||e===null||Qe in e)return e;const t=Cn(e);if(t!==ds&&t!==vs)return e;var n=new Map,r=Qt(e),s=Oe(0),i=tt,a=l=>{if(tt===i)return l();var o=F,f=tt;ae(null),qn(i);var c=l();return ae(o),qn(f),c};return r&&n.set("length",Oe(e.length)),new Proxy(e,{defineProperty(l,o,f){(!("value"in f)||f.configurable===!1||f.enumerable===!1||f.writable===!1)&&ks();var c=n.get(o);return c===void 0?c=a(()=>{var v=Oe(f.value);return n.set(o,v),v}):m(c,f.value,!0),!0},deleteProperty(l,o){var f=n.get(o);if(f===void 0){if(o in l){const c=a(()=>Oe(Q));n.set(o,c),Lt(s)}}else m(f,Q),Lt(s);return!0},get(l,o,f){if(o===Qe)return e;var c=n.get(o),v=o in l;if(c===void 0&&(!v||gt(l,o)?.writable)&&(c=a(()=>{var h=pt(v?l[o]:Q),g=Oe(h);return g}),n.set(o,c)),c!==void 0){var d=u(c);return d===Q?void 0:d}return Reflect.get(l,o,f)},getOwnPropertyDescriptor(l,o){var f=Reflect.getOwnPropertyDescriptor(l,o);if(f&&"value"in f){var c=n.get(o);c&&(f.value=u(c))}else if(f===void 0){var v=n.get(o),d=v?.v;if(v!==void 0&&d!==Q)return{enumerable:!0,configurable:!0,value:d,writable:!0}}return f},has(l,o){if(o===Qe)return!0;var f=n.get(o),c=f!==void 0&&f.v!==Q||Reflect.has(l,o);if(f!==void 0||B!==null&&(!c||gt(l,o)?.writable)){f===void 0&&(f=a(()=>{var d=c?pt(l[o]):Q,h=Oe(d);return h}),n.set(o,f));var v=u(f);if(v===Q)return!1}return c},set(l,o,f,c){var v=n.get(o),d=o in l;if(r&&o==="length")for(var h=f;h<v.v;h+=1){var g=n.get(h+"");g!==void 0?m(g,Q):h in l&&(g=a(()=>Oe(Q)),n.set(h+"",g))}if(v===void 0)(!d||gt(l,o)?.writable)&&(v=a(()=>Oe(void 0)),m(v,pt(f)),n.set(o,v));else{d=v.v!==Q;var _=a(()=>pt(f));m(v,_)}var p=Reflect.getOwnPropertyDescriptor(l,o);if(p?.set&&p.set.call(c,f),!d){if(r&&typeof o=="string"){var b=n.get("length"),S=Number(o);Number.isInteger(S)&&S>=b.v&&m(b,S+1)}Lt(s)}return!0},ownKeys(l){u(s);var o=Reflect.ownKeys(l).filter(v=>{var d=n.get(v);return d===void 0||d.v!==Q});for(var[f,c]of n)c.v!==Q&&!(f in l)&&o.push(f);return o},setPrototypeOf(){Cs()}})}var zn,xr,Sr,kr;function ai(){if(zn===void 0){zn=window,xr=/Firefox/.test(navigator.userAgent);var e=Element.prototype,t=Node.prototype,n=Text.prototype;Sr=gt(t,"firstChild").get,kr=gt(t,"nextSibling").get,Ln(e)&&(e.__click=void 0,e.__className=void 0,e.__attributes=null,e.__style=void 0,e.__e=void 0),Ln(n)&&(n.__t=void 0)}}function Ge(e=""){return document.createTextNode(e)}function De(e){return Sr.call(e)}function zt(e){return kr.call(e)}function T(e,t){return De(e)}function wt(e,t=!1){{var n=De(e);return n instanceof Comment&&n.data===""?zt(n):n}}function G(e,t=1,n=!1){let r=e;for(;t--;)r=zt(r);return r}function li(e){e.textContent=""}function Cr(){return!1}function Ht(e){var t=F,n=B;ae(null),Se(null);try{return e()}finally{ae(t),Se(n)}}function Er(e){B===null&&(F===null&&ys(),ws()),$e&&bs()}function oi(e,t){var n=t.last;n===null?t.last=t.first=e:(n.next=e,e.prev=n,t.last=e)}function Ee(e,t,n){var r=B;r!==null&&(r.f&de)!==0&&(e|=de);var s={ctx:H,deps:null,nodes:null,f:e|re|me,first:null,fn:t,last:null,next:null,parent:r,b:r&&r.b,prev:null,teardown:null,wv:0,ac:null};if(n)try{yt(s),s.f|=tn}catch(l){throw le(s),l}else t!==null&&Re(s);var i=s;if(n&&i.deps===null&&i.teardown===null&&i.nodes===null&&i.first===i.last&&(i.f&xt)===0&&(i=i.first,(e&ke)!==0&&(e&it)!==0&&i!==null&&(i.f|=it)),i!==null&&(i.parent=r,r!==null&&oi(i,r),F!==null&&(F.f&te)!==0&&(e&ot)===0)){var a=F;(a.effects??=[]).push(i)}return s}function An(){return F!==null&&!be}function Mr(e){const t=Ee(jt,null,!1);return V(t,ee),t.teardown=e,t}function wn(e){Er();var t=B.f,n=!F&&(t&Be)!==0&&(t&tn)===0;if(n){var r=H;(r.e??=[]).push(e)}else return Tr(e)}function Tr(e){return Ee(Wt|ar,e,!1)}function fi(e){return Er(),Ee(jt|ar,e,!0)}function ui(e){qe.ensure();const t=Ee(ot|xt,e,!0);return(n={})=>new Promise(r=>{n.outro?et(t,()=>{le(t),r(void 0)}):(le(t),r(void 0))})}function Pr(e){return Ee(Wt,e,!1)}function je(e,t){var n=H,r={effect:null,ran:!1,deps:e};n.l.$.push(r),r.effect=sn(()=>{e(),!r.ran&&(r.ran=!0,M(t))})}function Fn(){var e=H;sn(()=>{for(var t of e.l.$){t.deps();var n=t.effect;(n.f&ee)!==0&&n.deps!==null&&V(n,Ce),Mt(n)&&yt(n),t.ran=!1}})}function ci(e){return Ee(Mn|xt,e,!0)}function sn(e,t=0){return Ee(jt|t,e,!0)}function ge(e,t=[],n=[],r=[]){ti(r,t,n,s=>{Ee(jt,()=>e(...s.map(u)),!0)})}function an(e,t=0){var n=Ee(ke|t,e,!0);return n}function pe(e){return Ee(Be|xt,e,!0)}function Ar(e){var t=e.teardown;if(t!==null){const n=$e,r=F;Hn(!0),ae(null);try{t.call(null)}finally{Hn(n),ae(r)}}}function Fr(e,t=!1){var n=e.first;for(e.first=e.last=null;n!==null;){const s=n.ac;s!==null&&Ht(()=>{s.abort(ht)});var r=n.next;(n.f&ot)!==0?n.parent=null:le(n,t),n=r}}function di(e){for(var t=e.first;t!==null;){var n=t.next;(t.f&Be)===0&&le(t),t=n}}function le(e,t=!0){var n=!1;(t||(e.f&ir)!==0)&&e.nodes!==null&&e.nodes.end!==null&&(vi(e.nodes.start,e.nodes.end),n=!0),Fr(e,t&&!n),Jt(e,0),V(e,Ae);var r=e.nodes&&e.nodes.t;if(r!==null)for(const i of r)i.stop();Ar(e);var s=e.parent;s!==null&&s.first!==null&&Rr(e),e.next=e.prev=e.teardown=e.ctx=e.deps=e.fn=e.nodes=e.ac=null}function vi(e,t){for(;e!==null;){var n=e===t?null:zt(e);e.remove(),e=n}}function Rr(e){var t=e.parent,n=e.prev,r=e.next;n!==null&&(n.next=r),r!==null&&(r.prev=n),t!==null&&(t.first===e&&(t.first=r),t.last===e&&(t.last=n))}function et(e,t,n=!0){var r=[];Br(e,r,!0);var s=()=>{n&&le(e),t&&t()},i=r.length;if(i>0){var a=()=>--i||s();for(var l of r)l.out(a)}else s()}function Br(e,t,n){if((e.f&de)===0){e.f^=de;var r=e.nodes&&e.nodes.t;if(r!==null)for(const l of r)(l.is_global||n)&&t.push(l);for(var s=e.first;s!==null;){var i=s.next,a=(s.f&it)!==0||(s.f&Be)!==0&&(e.f&ke)!==0;Br(s,t,a?n:!1),s=i}}}function Rn(e){Nr(e,!0)}function Nr(e,t){if((e.f&de)!==0){e.f^=de,(e.f&ee)===0&&(V(e,re),Re(e));for(var n=e.first;n!==null;){var r=n.next,s=(n.f&it)!==0||(n.f&Be)!==0;Nr(n,s?t:!1),n=r}var i=e.nodes&&e.nodes.t;if(i!==null)for(const a of i)(a.is_global||t)&&a.in()}}function Or(e,t){if(e.nodes)for(var n=e.nodes.start,r=e.nodes.end;n!==null;){var s=n===r?null:zt(n);t.append(n),n=s}}let Vt=!1,$e=!1;function Hn(e){$e=e}let F=null,be=!1;function ae(e){F=e}let B=null;function Se(e){B=e}let Fe=null;function hi(e){F!==null&&(Fe===null?Fe=[e]:Fe.push(e))}let se=null,fe=0,he=null;function pi(e){he=e}let Ir=1,Ze=0,tt=Ze;function qn(e){tt=e}function Lr(){return++Ir}function Mt(e){var t=e.f;if((t&re)!==0)return!0;if(t&te&&(e.f&=~at),(t&Ce)!==0){for(var n=e.deps,r=n.length,s=0;s<r;s++){var i=n[s];if(Mt(i)&&br(i),i.wv>e.wv)return!0}(t&me)!==0&&_e===null&&V(e,ee)}return!1}function Dr(e,t,n=!0){var r=e.reactions;if(r!==null&&!Fe?.includes(e))for(var s=0;s<r.length;s++){var i=r[s];(i.f&te)!==0?Dr(i,t,!1):t===i&&(n?V(i,re):(i.f&ee)!==0&&V(i,Ce),Re(i))}}function jr(e){var t=se,n=fe,r=he,s=F,i=Fe,a=H,l=be,o=tt,f=e.f;se=null,fe=0,he=null,F=(f&(Be|ot))===0?e:null,Fe=null,mt(e.ctx),be=!1,tt=++Ze,e.ac!==null&&(Ht(()=>{e.ac.abort(ht)}),e.ac=null);try{e.f|=gn;var c=e.fn,v=c(),d=e.deps;if(se!==null){var h;if(Jt(e,fe),d!==null&&fe>0)for(d.length=fe+se.length,h=0;h<se.length;h++)d[fe+h]=se[h];else e.deps=d=se;if(An()&&(e.f&me)!==0)for(h=fe;h<d.length;h++)(d[h].reactions??=[]).push(e)}else d!==null&&fe<d.length&&(Jt(e,fe),d.length=fe);if(Et()&&he!==null&&!be&&d!==null&&(e.f&(te|Ce|re))===0)for(h=0;h<he.length;h++)Dr(he[h],e);if(s!==null&&s!==e){if(Ze++,s.deps!==null)for(let g=0;g<n;g+=1)s.deps[g].rv=Ze;if(t!==null)for(const g of t)g.rv=Ze;he!==null&&(r===null?r=he:r.push(...he))}return(e.f&He)!==0&&(e.f^=He),v}catch(g){return dr(g)}finally{e.f^=gn,se=t,fe=n,he=r,F=s,Fe=i,mt(a),be=l,tt=o}}function gi(e,t){let n=t.reactions;if(n!==null){var r=us.call(n,e);if(r!==-1){var s=n.length-1;s===0?n=t.reactions=null:(n[r]=n[s],n.pop())}}if(n===null&&(t.f&te)!==0&&(se===null||!se.includes(t))){var i=t;(i.f&me)!==0&&(i.f^=me,i.f&=~at),Tn(i),_r(i),Jt(i,0)}}function Jt(e,t){var n=e.deps;if(n!==null)for(var r=t;r<n.length;r++)gi(e,n[r])}function yt(e){var t=e.f;if((t&Ae)===0){V(e,ee);var n=B,r=Vt;B=e,Vt=!0;try{(t&(ke|sr))!==0?di(e):Fr(e),Ar(e);var s=jr(e);e.teardown=typeof s=="function"?s:null,e.wv=Ir;var i;hn&&$s&&(e.f&re)!==0&&e.deps}finally{Vt=r,B=n}}}async function mi(){await Promise.resolve(),Ws()}function u(e){var t=e.f,n=(t&te)!==0;if(F!==null&&!be){var r=B!==null&&(B.f&Ae)!==0;if(!r&&!Fe?.includes(e)){var s=F.deps;if((F.f&gn)!==0)e.rv<Ze&&(e.rv=Ze,se===null&&s!==null&&s[fe]===e?fe++:se===null?se=[e]:se.push(e));else{(F.deps??=[]).push(e);var i=e.reactions;i===null?e.reactions=[F]:i.includes(F)||i.push(F)}}}if($e&&Ke.has(e))return Ke.get(e);if(n){var a=e;if($e){var l=a.v;return((a.f&ee)===0&&a.reactions!==null||Hr(a))&&(l=Pn(a)),Ke.set(a,l),l}var o=(a.f&me)===0&&!be&&F!==null&&(Vt||(F.f&me)!==0),f=a.deps===null;Mt(a)&&(o&&(a.f|=me),br(a)),o&&!f&&zr(a)}if(_e?.has(e))return _e.get(e);if((e.f&He)!==0)throw e.v;return e.v}function zr(e){if(e.deps!==null){e.f|=me;for(const t of e.deps)(t.reactions??=[]).push(e),(t.f&te)!==0&&(t.f&me)===0&&zr(t)}}function Hr(e){if(e.v===Q)return!0;if(e.deps===null)return!1;for(const t of e.deps)if(Ke.has(t)||(t.f&te)!==0&&Hr(t))return!0;return!1}function M(e){var t=be;try{return be=!0,e()}finally{be=t}}function $(e){if(!(typeof e!="object"||!e||e instanceof EventTarget)){if(Qe in e)yn(e);else if(!Array.isArray(e))for(let t in e){const n=e[t];typeof n=="object"&&n&&Qe in n&&yn(n)}}}function yn(e,t=new Set){if(typeof e=="object"&&e!==null&&!(e instanceof EventTarget)&&!t.has(e)){t.add(e),e instanceof Date&&e.getTime();for(let r in e)try{yn(e[r],t)}catch{}const n=Cn(e);if(n!==Object.prototype&&n!==Array.prototype&&n!==Map.prototype&&n!==Set.prototype&&n!==Date.prototype){const r=nr(n);for(let s in r){const i=r[s].get;if(i)try{i.call(e)}catch{}}}}}const _i=["touchstart","touchmove"];function bi(e){return _i.includes(e)}const wi=new Set,Kn=new Set;function yi(e,t,n,r={}){function s(i){if(r.capture||Nt.call(t,i),!i.cancelBubble)return Ht(()=>n?.call(this,i))}return e.startsWith("pointer")||e.startsWith("touch")||e==="wheel"?xe(()=>{t.addEventListener(e,s,r)}):t.addEventListener(e,s,r),s}function ie(e,t,n,r,s){var i={capture:r,passive:s},a=yi(e,t,n,i);(t===document.body||t===window||t===document||t instanceof HTMLMediaElement)&&Mr(()=>{t.removeEventListener(e,a,i)})}let Gn=null;function Nt(e){var t=this,n=t.ownerDocument,r=e.type,s=e.composedPath?.()||[],i=s[0]||e.target;Gn=e;var a=0,l=Gn===e&&e.__root;if(l){var o=s.indexOf(l);if(o!==-1&&(t===document||t===window)){e.__root=t;return}var f=s.indexOf(t);if(f===-1)return;o<=f&&(a=o)}if(i=s[a]||e.target,i!==t){cs(e,"currentTarget",{configurable:!0,get(){return i||n}});var c=F,v=B;ae(null),Se(null);try{for(var d,h=[];i!==null;){var g=i.assignedSlot||i.parentNode||i.host||null;try{var _=i["__"+r];_!=null&&(!i.disabled||e.target===i)&&_.call(i,e)}catch(p){d?h.push(p):d=p}if(e.cancelBubble||g===t||g===null)break;i=g}if(d){for(let p of h)queueMicrotask(()=>{throw p});throw d}}finally{e.__root=t,delete e.currentTarget,ae(c),Se(v)}}}function qr(e){var t=document.createElement("template");return t.innerHTML=e.replaceAll("<!>","<!---->"),t.content}function Xt(e,t){var n=B;n.nodes===null&&(n.nodes={start:e,end:t,a:null,t:null})}function ne(e,t){var n=(t&Hs)!==0,r,s=!e.startsWith("<!>");return()=>{r===void 0&&(r=qr(s?e:"<!>"+e),r=De(r));var i=n||xr?document.importNode(r,!0):r.cloneNode(!0);return Xt(i,i),i}}function xi(e,t,n="svg"){var r=!e.startsWith("<!>"),s=(t&zs)!==0,i=`<${n}>${r?e:"<!>"+e}</${n}>`,a;return()=>{if(!a){var l=qr(i),o=De(l);if(s)for(a=document.createDocumentFragment();De(o);)a.appendChild(De(o));else a=De(o)}var f=a.cloneNode(!0);if(s){var c=De(f),v=f.lastChild;Xt(c,v)}else Xt(f,f);return f}}function ln(e,t){return xi(e,t,"svg")}function Dt(){var e=document.createDocumentFragment(),t=document.createComment(""),n=Ge();return e.append(t,n),Xt(t,n),e}function D(e,t){e!==null&&e.before(t)}let xn=!0;function nt(e,t){var n=t==null?"":typeof t=="object"?t+"":t;n!==(e.__t??=e.nodeValue)&&(e.__t=n,e.nodeValue=n+"")}function Si(e,t){return ki(e,t)}const vt=new Map;function ki(e,{target:t,anchor:n,props:r={},events:s,context:i,intro:a=!0}){ai();var l=new Set,o=v=>{for(var d=0;d<v.length;d++){var h=v[d];if(!l.has(h)){l.add(h);var g=bi(h);t.addEventListener(h,Nt,{passive:g});var _=vt.get(h);_===void 0?(document.addEventListener(h,Nt,{passive:g}),vt.set(h,1)):vt.set(h,_+1)}}};o(en(wi)),Kn.add(o);var f=void 0,c=ui(()=>{var v=n??t.appendChild(Ge());return Qs(v,{pending:()=>{}},d=>{if(i){kt({});var h=H;h.c=i}s&&(r.$$events=s),xn=a,f=e(d,r)||{},xn=!0,i&&Ct()}),()=>{for(var d of l){t.removeEventListener(d,Nt);var h=vt.get(d);--h===0?(document.removeEventListener(d,Nt),vt.delete(d)):vt.set(d,h)}Kn.delete(o),v!==n&&v.parentNode?.removeChild(v)}});return Ci.set(f,c),f}let Ci=new WeakMap;class Kr{anchor;#t=new Map;#a=new Map;#e=new Map;#s=new Set;#i=!0;constructor(t,n=!0){this.anchor=t,this.#i=n}#r=()=>{var t=K;if(this.#t.has(t)){var n=this.#t.get(t),r=this.#a.get(n);if(r)Rn(r),this.#s.delete(n);else{var s=this.#e.get(n);s&&(this.#a.set(n,s.effect),this.#e.delete(n),s.fragment.lastChild.remove(),this.anchor.before(s.fragment),r=s.effect)}for(const[i,a]of this.#t){if(this.#t.delete(i),i===t)break;const l=this.#e.get(a);l&&(le(l.effect),this.#e.delete(a))}for(const[i,a]of this.#a){if(i===n||this.#s.has(i))continue;const l=()=>{if(Array.from(this.#t.values()).includes(i)){var f=document.createDocumentFragment();Or(a,f),f.append(Ge()),this.#e.set(i,{effect:a,fragment:f})}else le(a);this.#s.delete(i),this.#a.delete(i)};this.#i||!r?(this.#s.add(i),et(a,l,!1)):l()}}};#n=t=>{this.#t.delete(t);const n=Array.from(this.#t.values());for(const[r,s]of this.#e)n.includes(r)||(le(s.effect),this.#e.delete(r))};ensure(t,n){var r=K,s=Cr();if(n&&!this.#a.has(t)&&!this.#e.has(t))if(s){var i=document.createDocumentFragment(),a=Ge();i.append(a),this.#e.set(t,{effect:pe(()=>n(a)),fragment:i})}else this.#a.set(t,pe(()=>n(this.anchor)));if(this.#t.set(r,t),s){for(const[l,o]of this.#a)l===t?r.skipped_effects.delete(o):r.skipped_effects.add(o);for(const[l,o]of this.#e)l===t?r.skipped_effects.delete(o.effect):r.skipped_effects.add(o.effect);r.oncommit(this.#r),r.ondiscard(this.#n)}else this.#r()}}function ce(e,t,n=!1){var r=new Kr(e),s=n?it:0;function i(a,l){r.ensure(a,l)}an(()=>{var a=!1;t((l,o=!0)=>{a=!0,i(o,l)}),a||i(!1,null)},s)}function Ei(e,t,n){var r=new Kr(e),s=!Et();an(()=>{var i=t();s&&i!==null&&typeof i=="object"&&(i={}),r.ensure(i,n)})}function Mi(e,t){return t}function Ti(e,t,n){for(var r=[],s=t.length,i,a=t.length,l=0;l<s;l++){let v=t[l];et(v,()=>{if(i){if(i.pending.delete(v),i.done.add(v),i.pending.size===0){var d=e.outrogroups;Sn(en(i.done)),d.delete(i),d.size===0&&(e.outrogroups=null)}}else a-=1},!1)}if(a===0){var o=r.length===0&&n!==null;if(o){var f=n,c=f.parentNode;li(c),c.append(f),e.items.clear()}Sn(t,!o)}else i={pending:new Set(t),done:new Set},(e.outrogroups??=new Set).add(i)}function Sn(e,t=!0){for(var n=0;n<e.length;n++)le(e[n],t)}var $n;function Un(e,t,n,r,s,i=null){var a=e,l=new Map,o=(t&or)!==0;if(o){var f=e;a=f.appendChild(Ge())}var c=null,v=Xe(()=>{var b=n();return Qt(b)?b:b==null?[]:en(b)}),d,h=!0;function g(){p.fallback=c,Pi(p,d,a,t,r),c!==null&&(d.length===0?(c.f&Pe)===0?Rn(c):(c.f^=Pe,Ot(c,null,a)):et(c,()=>{c=null}))}var _=an(()=>{d=u(v);for(var b=d.length,S=new Set,w=K,C=Cr(),k=0;k<b;k+=1){var N=d[k],P=r(N,k),A=h?null:l.get(P);A?(A.v&&bt(A.v,N),A.i&&bt(A.i,k),C&&w.skipped_effects.delete(A.e)):(A=Ai(l,h?a:$n??=Ge(),N,P,k,s,t,n),h||(A.e.f|=Pe),l.set(P,A)),S.add(P)}if(b===0&&i&&!c&&(h?c=pe(()=>i(a)):(c=pe(()=>i($n??=Ge())),c.f|=Pe)),!h)if(C){for(const[O,y]of l)S.has(O)||w.skipped_effects.add(y.e);w.oncommit(g),w.ondiscard(()=>{})}else g();u(v)}),p={effect:_,items:l,outrogroups:null,fallback:c};h=!1}function Pi(e,t,n,r,s){var i=(r&As)!==0,a=t.length,l=e.items,o=e.effect.first,f,c=null,v,d=[],h=[],g,_,p,b;if(i)for(b=0;b<a;b+=1)g=t[b],_=s(g,b),p=l.get(_).e,(p.f&Pe)===0&&(p.nodes?.a?.measure(),(v??=new Set).add(p));for(b=0;b<a;b+=1){if(g=t[b],_=s(g,b),p=l.get(_).e,e.outrogroups!==null)for(const y of e.outrogroups)y.pending.delete(p),y.done.delete(p);if((p.f&Pe)!==0)if(p.f^=Pe,p===o)Ot(p,null,n);else{var S=c?c.next:o;p===e.effect.last&&(e.effect.last=p.prev),p.prev&&(p.prev.next=p.next),p.next&&(p.next.prev=p.prev),Ie(e,c,p),Ie(e,p,S),Ot(p,S,n),c=p,d=[],h=[],o=c.next;continue}if((p.f&de)!==0&&(Rn(p),i&&(p.nodes?.a?.unfix(),(v??=new Set).delete(p))),p!==o){if(f!==void 0&&f.has(p)){if(d.length<h.length){var w=h[0],C;c=w.prev;var k=d[0],N=d[d.length-1];for(C=0;C<d.length;C+=1)Ot(d[C],w,n);for(C=0;C<h.length;C+=1)f.delete(h[C]);Ie(e,k.prev,N.next),Ie(e,c,k),Ie(e,N,w),o=w,c=N,b-=1,d=[],h=[]}else f.delete(p),Ot(p,o,n),Ie(e,p.prev,p.next),Ie(e,p,c===null?e.effect.first:c.next),Ie(e,c,p),c=p;continue}for(d=[],h=[];o!==null&&o!==p;)(f??=new Set).add(o),h.push(o),o=o.next;if(o===null)continue}(p.f&Pe)===0&&d.push(p),c=p,o=p.next}if(e.outrogroups!==null){for(const y of e.outrogroups)y.pending.size===0&&(Sn(en(y.done)),e.outrogroups?.delete(y));e.outrogroups.size===0&&(e.outrogroups=null)}if(o!==null||f!==void 0){var P=[];if(f!==void 0)for(p of f)(p.f&de)===0&&P.push(p);for(;o!==null;)(o.f&de)===0&&o!==e.fallback&&P.push(o),o=o.next;var A=P.length;if(A>0){var O=(r&or)!==0&&a===0?n:null;if(i){for(b=0;b<A;b+=1)P[b].nodes?.a?.measure();for(b=0;b<A;b+=1)P[b].nodes?.a?.fix()}Ti(e,P,O)}}i&&xe(()=>{if(v!==void 0)for(p of v)p.nodes?.a?.apply()})}function Ai(e,t,n,r,s,i,a,l){var o=(a&Ts)!==0?(a&Fs)===0?L(n,!1,!1):lt(n):null,f=(a&Ps)!==0?lt(s):null;return{v:o,i:f,e:pe(()=>(i(t,o??n,f??s,l),()=>{e.delete(r)}))}}function Ot(e,t,n){if(e.nodes)for(var r=e.nodes.start,s=e.nodes.end,i=t&&(t.f&Pe)===0?t.nodes.start:n;r!==null;){var a=zt(r);if(i.before(r),r===s)return;r=a}}function Ie(e,t,n){t===null?e.effect.first=n:t.next=n,n===null?e.effect.last=t:n.prev=t}const Fi=()=>performance.now(),Te={tick:e=>requestAnimationFrame(e),now:()=>Fi(),tasks:new Set};function Gr(){const e=Te.now();Te.tasks.forEach(t=>{t.c(e)||(Te.tasks.delete(t),t.f())}),Te.tasks.size!==0&&Te.tick(Gr)}function Ri(e){let t;return Te.tasks.size===0&&Te.tick(Gr),{promise:new Promise(n=>{Te.tasks.add(t={c:e,f:n})}),abort(){Te.tasks.delete(t)}}}function $t(e,t){Ht(()=>{e.dispatchEvent(new CustomEvent(t))})}function Bi(e){if(e==="float")return"cssFloat";if(e==="offset")return"cssOffset";if(e.startsWith("--"))return e;const t=e.split("-");return t.length===1?t[0]:t[0]+t.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function Yn(e){const t={},n=e.split(";");for(const r of n){const[s,i]=r.split(":");if(!s||i===void 0)break;const a=Bi(s.trim());t[a]=i.trim()}return t}const Ni=e=>e;function We(e,t,n,r){var s=(e&Ls)!==0,i=(e&Ds)!==0,a=s&&i,l=(e&js)!==0,o=a?"both":s?"in":"out",f,c=t.inert,v=t.style.overflow,d,h;function g(){return Ht(()=>f??=n()(t,r?.()??{},{direction:o}))}var _={is_global:l,in(){if(t.inert=c,!s){h?.abort(),h?.reset?.();return}i||d?.abort(),$t(t,"introstart"),d=kn(t,g(),h,1,()=>{$t(t,"introend"),d?.abort(),d=f=void 0,t.style.overflow=v})},out(w){if(!i){w?.(),f=void 0;return}t.inert=!0,$t(t,"outrostart"),h=kn(t,g(),d,0,()=>{$t(t,"outroend"),w?.()})},stop:()=>{d?.abort(),h?.abort()}},p=B;if((p.nodes.t??=[]).push(_),s&&xn){var b=l;if(!b){for(var S=p.parent;S&&(S.f&it)!==0;)for(;(S=S.parent)&&(S.f&ke)===0;);b=!S||(S.f&tn)!==0}b&&Pr(()=>{M(()=>_.in())})}}function kn(e,t,n,r,s){var i=r===1;if(hs(t)){var a,l=!1;return xe(()=>{if(!l){var p=t({direction:i?"in":"out"});a=kn(e,p,n,r,s)}}),{abort:()=>{l=!0,a?.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n?.deactivate(),!t?.duration)return s(),{abort:Bt,deactivate:Bt,reset:Bt,t:()=>r};const{delay:o=0,css:f,tick:c,easing:v=Ni}=t;var d=[];if(i&&n===void 0&&(c&&c(0,1),f)){var h=Yn(f(0,1));d.push(h,h)}var g=()=>1-r,_=e.animate(d,{duration:o,fill:"forwards"});return _.onfinish=()=>{_.cancel();var p=n?.t()??1-r;n?.abort();var b=r-p,S=t.duration*Math.abs(b),w=[];if(S>0){var C=!1;if(f)for(var k=Math.ceil(S/16.666666666666668),N=0;N<=k;N+=1){var P=p+b*v(N/k),A=Yn(f(P,1-P));w.push(A),C||=A.overflow==="hidden"}C&&(e.style.overflow="hidden"),g=()=>{var O=_.currentTime;return p+b*v(O/S)},c&&Ri(()=>{if(_.playState!=="running")return!1;var O=g();return c(O,1-O),!0})}_=e.animate(w,{duration:S,fill:"forwards"}),_.onfinish=()=>{g=()=>r,c?.(r,1-r),s()}},{abort:()=>{_&&(_.cancel(),_.effect=null,_.onfinish=Bt)},deactivate:()=>{s=Bt},reset:()=>{r===0&&c?.(1,0)},t:()=>g()}}function $r(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=$r(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Oi(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=$r(e))&&(r&&(r+=" "),r+=t);return r}function Vn(e){return typeof e=="object"?Oi(e):e??""}const Wn=[...` 	
\r\fÂ \v\uFEFF`];function Ii(e,t,n){var r=e==null?"":""+e;if(t&&(r=r?r+" "+t:t),n){for(var s in n)if(n[s])r=r?r+" "+s:s;else if(r.length)for(var i=s.length,a=0;(a=r.indexOf(s,a))>=0;){var l=a+i;(a===0||Wn.includes(r[a-1]))&&(l===r.length||Wn.includes(r[l]))?r=(a===0?"":r.substring(0,a))+r.substring(l+1):a=l}}return r===""?null:r}function Li(e,t){return e==null?null:String(e)}function Le(e,t,n,r,s,i){var a=e.__className;if(a!==n||a===void 0){var l=Ii(n,r,i);l==null?e.removeAttribute("class"):t?e.className=l:e.setAttribute("class",l),e.__className=n}else if(i&&s!==i)for(var o in i){var f=!!i[o];(s==null||f!==!!s[o])&&e.classList.toggle(o,f)}return i}function Zt(e,t,n,r){var s=e.__style;if(s!==t){var i=Li(t);i==null?e.removeAttribute("style"):e.style.cssText=i,e.__style=t}return r}const Di=Symbol("is custom element"),ji=Symbol("is html");function X(e,t,n,r){var s=zi(e);s[t]!==(s[t]=n)&&(t==="loading"&&(e[ms]=n),n==null?e.removeAttribute(t):typeof n!="string"&&Hi(e).includes(t)?e[t]=n:e.setAttribute(t,n))}function zi(e){return e.__attributes??={[Di]:e.nodeName.includes("-"),[ji]:e.namespaceURI===qs}}var Jn=new Map;function Hi(e){var t=e.getAttribute("is")||e.nodeName,n=Jn.get(t);if(n)return n;Jn.set(t,n=[]);for(var r,s=e,i=Element.prototype;i!==s;){r=nr(s);for(var a in r)r[a].set&&n.push(a);s=Cn(s)}return n}function Xn(e,t){return e===t||e?.[Qe]===t}function Ur(e={},t,n,r){return Pr(()=>{var s,i;return sn(()=>{s=i,i=[],M(()=>{e!==n(...i)&&(t(e,...i),s&&Xn(n(...s),e)&&t(null,...s))})}),()=>{xe(()=>{i&&Xn(n(...i),e)&&t(null,...i)})}}),e}function qi(e){return function(...t){var n=t[0];return n.preventDefault(),e?.apply(this,t)}}function on(e=!1){const t=H,n=t.l.u;if(!n)return;let r=()=>$(t.s);if(e){let s=0,i={};const a=rn(()=>{let l=!1;const o=t.s;for(const f in o)o[f]!==i[f]&&(i[f]=o[f],l=!0);return l&&s++,s});r=()=>u(a)}n.b.length&&fi(()=>{Zn(t,r),pn(n.b)}),wn(()=>{const s=M(()=>n.m.map(ps));return()=>{for(const i of s)typeof i=="function"&&i()}}),n.a.length&&wn(()=>{Zn(t,r),pn(n.a)})}function Zn(e,t){if(e.l.s)for(const n of e.l.s)u(n);t()}function Ki(e,t){var n=e.$$events?.[t.type],r=Qt(n)?n.slice():n==null?[]:[n];for(var s of r)s.call(this,t)}let Ut=!1;function Gi(e){var t=Ut;try{return Ut=!1,[e(),Ut]}finally{Ut=t}}function R(e,t,n,r){var s=!St||(n&Bs)!==0,i=(n&Os)!==0,a=(n&Is)!==0,l=r,o=!0,f=()=>(o&&(o=!1,l=a?M(r):r),l),c;if(i){var v=Qe in e||gs in e;c=gt(e,t)?.set??(v&&t in e?w=>e[t]=w:void 0)}var d,h=!1;i?[d,h]=Gi(()=>e[t]):d=e[t],d===void 0&&r!==void 0&&(d=f(),c&&(s&&Ss(),c(d)));var g;if(s?g=()=>{var w=e[t];return w===void 0?f():(o=!0,w)}:g=()=>{var w=e[t];return w!==void 0&&(l=void 0),w===void 0?l:w},s&&(n&Ns)===0)return g;if(c){var _=e.$$legacy;return(function(w,C){return arguments.length>0?((!s||!C||_||h)&&c(C?g():w),w):g()})}var p=!1,b=((n&Rs)!==0?rn:Xe)(()=>(p=!1,g()));i&&u(b);var S=B;return(function(w,C){if(arguments.length>0){const k=C?u(b):s&&i?pt(w):w;return m(b,k),p=!0,l!==void 0&&(l=k),w}return $e&&p||(S.f&Ae)!==0?b.v:u(b)})}function $i(e){H===null&&lr(),St&&H.l!==null?Vi(H).m.push(e):wn(()=>{const t=M(e);if(typeof t=="function")return t})}function Ui(e,t,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(e,{detail:t,bubbles:n,cancelable:r})}function Yi(){const e=H;return e===null&&lr(),(t,n,r)=>{const s=e.s.$$events?.[t];if(s){const i=Qt(s)?s.slice():[s],a=Ui(t,n,r);for(const l of i)l.call(e.x,a);return!a.defaultPrevented}return!0}}function Vi(e){var t=e.l;return t.u??={a:[],b:[],m:[]}}const Wi="5";typeof window<"u"&&((window.__svelte??={}).v??=new Set).add(Wi);Us();const Ji=e=>e;function Xi(e){const t=e-1;return t*t*t+1}function cn(e,{delay:t=0,duration:n=400,easing:r=Ji}={}){const s=+getComputedStyle(e).opacity;return{delay:t,duration:n,easing:r,css:i=>`opacity: ${i*s}`}}function Yt(e,{delay:t=0,duration:n=400,easing:r=Xi,start:s=0,opacity:i=0}={}){const a=getComputedStyle(e),l=+a.opacity,o=a.transform==="none"?"":a.transform,f=1-s,c=l*(1-i);return{delay:t,duration:n,easing:r,css:(v,d)=>`
			transform: ${o} scale(${1-f*d});
			opacity: ${l-c*d}
		`}}function Qn(e,t){t&&t!=="lg"&&t!=="sm"&&t!=="xs"?e.style.fontSize=t.replace("x","em"):e.style.fontSize=""}function Zi(e,t,n,r,s,i=1,a="",l=""){let o=1,f=1;s&&(s=="horizontal"?o=-1:s=="vertical"?f=-1:o=f=-1),typeof e=="string"&&(e=parseFloat(e)),typeof t=="string"&&(t=parseFloat(t)),typeof n=="string"&&(n=parseFloat(n));const c=`${t*i}${a}`,v=`${n*i}${a}`;let d=`translate(${c},${v}) scale(${o*e},${f*e})`;return r&&(d+=` rotate(${r}${l})`),d}var Qi=ln('<title class="svelte-q6zoq1"> </title>'),ea=ln('<path class="svelte-q6zoq1"></path>'),ta=ln('<path class="svelte-q6zoq1"></path><path class="svelte-q6zoq1"></path>',1),na=ln('<svg role="img" xmlns="http://www.w3.org/2000/svg"><!><g class="svelte-q6zoq1"><g class="svelte-q6zoq1"><!></g></g></svg>');function ze(e,t){kt(t,!1);const n=L(),r=L();let s=R(t,"class",24,()=>{}),i=R(t,"id",24,()=>{}),a=R(t,"style",24,()=>{}),l=R(t,"icon",8),o=R(t,"title",24,()=>{}),f=R(t,"size",24,()=>{}),c=R(t,"color",24,()=>{}),v=R(t,"fw",8,!1),d=R(t,"pull",24,()=>{}),h=R(t,"scale",8,1),g=R(t,"translateX",8,0),_=R(t,"translateY",8,0),p=R(t,"rotate",24,()=>{}),b=R(t,"flip",24,()=>{}),S=R(t,"spin",8,!1),w=R(t,"pulse",8,!1),C=R(t,"primaryColor",8,""),k=R(t,"secondaryColor",8,""),N=R(t,"primaryOpacity",8,1),P=R(t,"secondaryOpacity",8,.4),A=R(t,"swapOpacity",8,!1),O=L();je(()=>(u(O),$(f()),Qn),()=>{u(O)&&f()&&Qn(u(O),f())}),je(()=>$(l()),()=>{m(n,l()&&l().icon||[0,0,"",[],""])}),je(()=>($(h()),$(g()),$(_()),$(p()),$(b())),()=>{m(r,Zi(h(),g(),_(),p(),b(),512))}),Fn(),on();var y=Dt(),I=wt(y);{var U=we=>{var W=na();let Z;var ye=T(W);{var Tt=j=>{var q=Qi(),oe=T(q);ge(()=>nt(oe,o())),D(j,q)};ce(ye,j=>{o()&&j(Tt)})}var Ue=G(ye),ft=T(Ue),Ye=T(ft);{var Pt=j=>{var q=ea();ge(()=>{X(q,"d",(u(n),M(()=>u(n)[4]))),X(q,"fill",c()||C()||"currentColor"),X(q,"transform",`translate(${u(n),M(()=>u(n)[0]/-2)??""} ${u(n),M(()=>u(n)[1]/-2)??""})`)}),D(j,q)},At=j=>{var q=ta(),oe=wt(q),Ne=G(oe);ge(()=>{X(oe,"d",(u(n),M(()=>u(n)[4][0]))),X(oe,"fill",k()||c()||"currentColor"),X(oe,"fill-opacity",A()!=!1?N():P()),X(oe,"transform",`translate(${u(n),M(()=>u(n)[0]/-2)??""} ${u(n),M(()=>u(n)[1]/-2)??""})`),X(Ne,"d",(u(n),M(()=>u(n)[4][1]))),X(Ne,"fill",C()||c()||"currentColor"),X(Ne,"fill-opacity",A()!=!1?P():N()),X(Ne,"transform",`translate(${u(n),M(()=>u(n)[0]/-2)??""} ${u(n),M(()=>u(n)[1]/-2)??""})`)}),D(j,q)};ce(Ye,j=>{u(n),M(()=>typeof u(n)[4]=="string")?j(Pt):j(At,!1)})}Ur(W,j=>m(O,j),()=>u(O)),ge(()=>{X(W,"id",i()),Z=Le(W,0,`svelte-fa svelte-fa-base ${s()??""}`,"svelte-q6zoq1",Z,{pulse:w(),"svelte-fa-size-lg":f()==="lg","svelte-fa-size-sm":f()==="sm","svelte-fa-size-xs":f()==="xs","svelte-fa-fw":v(),"svelte-fa-pull-left":d()==="left","svelte-fa-pull-right":d()==="right",spin:S()}),Zt(W,a()),X(W,"viewBox",`0 0 ${u(n),M(()=>u(n)[0])??""} ${u(n),M(()=>u(n)[1])??""}`),X(W,"aria-hidden",o()===void 0),X(Ue,"transform",`translate(${u(n),M(()=>u(n)[0]/2)??""} ${u(n),M(()=>u(n)[1]/2)??""})`),X(Ue,"transform-origin",`${u(n),M(()=>u(n)[0]/4)??""} 0`),X(ft,"transform",u(r))}),D(we,W)};ce(I,we=>{u(n),M(()=>u(n)[4])&&we(U)})}D(e,y),Ct()}var ra={prefix:"fas",iconName:"question",icon:[320,512,[10067,10068,61736],"3f","M64 160c0-53 43-96 96-96s96 43 96 96c0 42.7-27.9 78.9-66.5 91.4-28.4 9.2-61.5 35.3-61.5 76.6l0 24c0 17.7 14.3 32 32 32s32-14.3 32-32l0-24c0-1.7 .6-4.1 3.5-7.3 3-3.3 7.9-6.5 13.7-8.4 64.3-20.7 110.8-81 110.8-152.3 0-88.4-71.6-160-160-160S0 71.6 0 160c0 17.7 14.3 32 32 32s32-14.3 32-32zm96 352c22.1 0 40-17.9 40-40s-17.9-40-40-40-40 17.9-40 40 17.9 40 40 40z"]},sa={prefix:"fas",iconName:"clock",icon:[512,512,[128339,"clock-four"],"f017","M256 0a256 256 0 1 1 0 512 256 256 0 1 1 0-512zM232 120l0 136c0 8 4 15.5 10.7 20l96 64c11 7.4 25.9 4.4 33.3-6.7s4.4-25.9-6.7-33.3L280 243.2 280 120c0-13.3-10.7-24-24-24s-24 10.7-24 24z"]},ia={prefix:"fas",iconName:"sun",icon:[576,512,[9728],"f185","M178.2-10.1c7.4-3.1 15.8-2.2 22.5 2.2l87.8 58.2 87.8-58.2c6.7-4.4 15.1-5.2 22.5-2.2S411.4-.5 413 7.3l20.9 103.2 103.2 20.9c7.8 1.6 14.4 7 17.4 14.3s2.2 15.8-2.2 22.5l-58.2 87.8 58.2 87.8c4.4 6.7 5.2 15.1 2.2 22.5s-9.6 12.8-17.4 14.3L433.8 401.4 413 504.7c-1.6 7.8-7 14.4-14.3 17.4s-15.8 2.2-22.5-2.2l-87.8-58.2-87.8 58.2c-6.7 4.4-15.1 5.2-22.5 2.2s-12.8-9.6-14.3-17.4L143 401.4 39.7 380.5c-7.8-1.6-14.4-7-17.4-14.3s-2.2-15.8 2.2-22.5L82.7 256 24.5 168.2c-4.4-6.7-5.2-15.1-2.2-22.5s9.6-12.8 17.4-14.3L143 110.6 163.9 7.3c1.6-7.8 7-14.4 14.3-17.4zM207.6 256a80.4 80.4 0 1 1 160.8 0 80.4 80.4 0 1 1 -160.8 0zm208.8 0a128.4 128.4 0 1 0 -256.8 0 128.4 128.4 0 1 0 256.8 0z"]},aa={prefix:"fas",iconName:"bomb",icon:[576,512,[128163],"f1e2","M480-16c6.9 0 13 4.4 15.2 10.9l13.5 40.4 40.4 13.5C555.6 51 560 57.1 560 64s-4.4 13-10.9 15.2l-40.4 13.5-13.5 40.4C493 139.6 486.9 144 480 144s-13-4.4-15.2-10.9l-13.5-40.4-40.4-13.5C404.4 77 400 70.9 400 64s4.4-13 10.9-15.2l40.4-13.5 13.5-40.4C467-11.6 473.1-16 480-16zM321.4 97.4c12.5-12.5 32.8-12.5 45.3 0l80 80c12.5 12.5 12.5 32.8 0 45.3l-10.9 10.9c7.9 22 12.2 45.7 12.2 70.5 0 114.9-93.1 208-208 208S32 418.9 32 304 125.1 96 240 96c24.7 0 48.5 4.3 70.5 12.3l10.9-10.9zM144 304c0-53 43-96 96-96 13.3 0 24-10.7 24-24s-10.7-24-24-24c-79.5 0-144 64.5-144 144 0 13.3 10.7 24 24 24s24-10.7 24-24z"]},la={prefix:"fas",iconName:"moon",icon:[512,512,[127769,9214],"f186","M256 0C114.6 0 0 114.6 0 256S114.6 512 256 512c68.8 0 131.3-27.2 177.3-71.4 7.3-7 9.4-17.9 5.3-27.1s-13.7-14.9-23.8-14.1c-4.9 .4-9.8 .6-14.8 .6-101.6 0-184-82.4-184-184 0-72.1 41.5-134.6 102.1-164.8 9.1-4.5 14.3-14.3 13.1-24.4S322.6 8.5 312.7 6.3C294.4 2.2 275.4 0 256 0z"]},oa={prefix:"fas",iconName:"rotate-right",icon:[512,512,["redo-alt","rotate-forward"],"f2f9","M488 192l-144 0c-9.7 0-18.5-5.8-22.2-14.8s-1.7-19.3 5.2-26.2l46.7-46.7c-75.3-58.6-184.3-53.3-253.5 15.9-75 75-75 196.5 0 271.5s196.5 75 271.5 0c8.2-8.2 15.5-16.9 21.9-26.1 10.1-14.5 30.1-18 44.6-7.9s18 30.1 7.9 44.6c-8.5 12.2-18.2 23.8-29.1 34.7-100 100-262.1 100-362 0S-25 175 75 75c94.3-94.3 243.7-99.6 344.3-16.2L471 7c6.9-6.9 17.2-8.9 26.2-5.2S512 14.3 512 24l0 144c0 13.3-10.7 24-24 24z"]},Yr={prefix:"fas",iconName:"flag",icon:[448,512,[127988,61725],"f024","M64 32C64 14.3 49.7 0 32 0S0 14.3 0 32L0 480c0 17.7 14.3 32 32 32s32-14.3 32-32l0-121.6 62.7-18.8c41.9-12.6 87.1-8.7 126.2 10.9 42.7 21.4 92.5 24 137.2 7.2l37.1-13.9c12.5-4.7 20.8-16.6 20.8-30l0-247.7c0-23-24.2-38-44.8-27.7l-11.8 5.9c-44.9 22.5-97.8 22.5-142.8 0-36.4-18.2-78.3-21.8-117.2-10.1L64 54.4 64 32z"]},fa=ne('<span class="flex h-full w-full items-center justify-center"><!></span>'),ua=ne('<span class="flex h-full w-full items-center justify-center"><!></span>'),ca=ne('<button type="button" aria-label="Toggle theme"><span class="absolute left-1 top-1/2 -translate-y-1/2 h-6 w-6 rounded-full bg-white shadow"><!></span></button>');function da(e,t){kt(t,!1);const n=L();let r=R(t,"isDarkTheme",12);function s(){r(!r())}je(()=>$(r()),()=>{m(n,r()?24:0)}),Fn();var i=ca(),a=T(i),l=T(a);{var o=c=>{var v=fa(),d=T(v);ze(d,{get icon(){return la},class:"text-slate-700 text-xs"}),D(c,v)},f=c=>{var v=ua(),d=T(v);ze(d,{get icon(){return ia},class:"text-amber-500 text-xs"}),D(c,v)};ce(l,c=>{r()?c(o):c(f,!1)})}ge(()=>{Le(i,1,`relative inline-flex h-8 w-14 items-center rounded-full border transition-colors ${r()?"bg-slate-700 border-slate-600":"bg-slate-200 border-slate-300"}`),X(i,"aria-pressed",r()),Zt(a,`transform: translateX(${u(n)}px); transition: transform var(--transition-duration);`)}),ie("click",i,s),D(e,i),Ct()}var va=ne('<span class="time-penalty svelte-rwygme">+10</span>'),ha=ne('<nav class="w-full grid grid-cols-3 items-center px-3 py-2 border-b border-slate-200 bg-white/70 dark:border-slate-700 dark:bg-slate-800/70 sm:px-6 sm:py-3 svelte-rwygme"><div class="flex items-center gap-2 relative sm:gap-3 svelte-rwygme"><button type="button" class="group relative h-8 w-8 inline-flex items-center justify-center rounded-md border border-transparent hover:border-slate-300 dark:hover:border-slate-600 sm:h-9 sm:w-9 svelte-rwygme" aria-label="Restart game"><!> <span class="tooltip svelte-rwygme">Restart</span></button> <button type="button" class="group relative h-8 w-8 inline-flex items-center justify-center rounded-md border border-transparent hover:border-slate-300 dark:hover:border-slate-600 sm:h-9 sm:w-9 svelte-rwygme" aria-label="Show hint"><!> <span class="tooltip svelte-rwygme">Hint</span></button></div> <div class="flex items-center justify-center gap-1 text-xs uppercase tracking-wide sm:gap-2 sm:text-sm leading-none svelte-rwygme"><!> <span class="relative inline-flex items-center font-mono text-slate-800 dark:text-slate-100 svelte-rwygme"> <!></span></div> <div class="flex items-center justify-end gap-3 sm:gap-4 svelte-rwygme"><div class="flex items-center gap-1 text-xs uppercase tracking-wide sm:gap-2 sm:text-sm svelte-rwygme"><!> <span class="font-mono text-slate-800 dark:text-slate-100 svelte-rwygme"> </span></div> <!></div></nav>');function pa(e,t){kt(t,!1);let n=R(t,"isDarkTheme",12),r=R(t,"timeLabel",8,"0:00"),s=R(t,"bombsLeft",8,10),i=R(t,"penaltyAnimationKey",8,0);const a=Yi();function l(){a("restart")}function o(){a("hint")}on();var f=ha(),c=T(f),v=T(c),d=T(v);ze(d,{get icon(){return oa},class:"text-slate-800 dark:text-slate-100"});var h=G(v,2),g=T(h);ze(g,{get icon(){return ra},class:"text-slate-700 dark:text-slate-100"});var _=G(c,2),p=T(_);ze(p,{get icon(){return sa},class:"text-slate-500 dark:text-slate-300"});var b=G(p,2),S=T(b),w=G(S);{var C=I=>{var U=Dt(),we=wt(U);Ei(we,i,W=>{var Z=va();D(W,Z)}),D(I,U)};ce(w,I=>{i()&&I(C)})}var k=G(_,2),N=T(k),P=T(N);ze(P,{get icon(){return Yr},class:"text-rose-500"});var A=G(P,2),O=T(A),y=G(N,2);da(y,{get isDarkTheme(){return n()},set isDarkTheme(I){n(I)},$$legacy:!0}),ge(()=>{nt(S,`${r()??""} `),nt(O,s())}),ie("click",v,l),ie("click",h,o),D(e,f),Ct()}var ga=ne("<span><!></span>"),ma=ne("<span> </span>"),_a=ne('<button type="button"><span><!></span> <span><!></span> <span></span></button>'),ba=ne('<div class="flex-1 min-h-0 w-full svelte-nkg03k"><div class="board-grid grid h-full w-full bg-slate-100/60 shadow-inner dark:bg-slate-800/70 svelte-nkg03k"></div></div>');function wa(e,t){kt(t,!1);let n=R(t,"board",8),r=R(t,"onReveal",8),s=R(t,"onToggleFlag",8),i=R(t,"bombFlashKeys",24,()=>[]),a=R(t,"hintFlashKeys",24,()=>[]),l=R(t,"wrongFlagKeys",24,()=>[]),o=R(t,"longPressMs",8,500),f=null,c=!1;const v=35;let d=L(null);const h={1:"text-blue-500",2:"text-emerald-500",3:"text-red-500",4:"text-indigo-500",5:"text-amber-700",6:"text-teal-500",7:"text-slate-700",8:"text-slate-400"};function g(k){k.revealed||(c=!1,m(d,`${k.row}-${k.col}`),f=setTimeout(()=>{c=!0,s()(k.row,k.col)},o()))}function _(k){f&&(clearTimeout(f),f=null),m(d,null),!c&&!k.revealed&&!k.flagged&&r()(k.row,k.col)}function p(){f&&(clearTimeout(f),f=null),m(d,null)}function b(k){return h[k]??"text-slate-600"}function S(k){return`${k.row}-${k.col}`}on();var w=ba(),C=T(w);Un(C,5,()=>($(n()),M(()=>n().cells)),Mi,(k,N)=>{var P=Dt(),A=wt(P);Un(A,1,()=>u(N),O=>O.row+"-"+O.col,(O,y)=>{const I=Xe(()=>(u(y),M(()=>S(u(y))))),U=Xe(()=>($(i()),$(u(I)),M(()=>i().includes(u(I))))),we=Xe(()=>($(a()),$(u(I)),M(()=>a().includes(u(I))))),W=Xe(()=>($(l()),$(u(I)),M(()=>l().includes(u(I)))));var Z=_a(),ye=T(Z),Tt=T(ye);{var Ue=j=>{var q=ga(),oe=T(q);ze(oe,{get icon(){return aa},class:"text-rose-500 dark:text-rose-300"}),ge(()=>Le(q,1,Vn(u(U)?"bomb-shake":""),"svelte-nkg03k")),D(j,q)},ft=j=>{var q=Dt(),oe=wt(q);{var Ne=Ft=>{var ut=ma(),Rt=T(ut);ge(fn=>{Le(ut,1,fn,"svelte-nkg03k"),nt(Rt,(u(y),M(()=>u(y).adjacentBombCount)))},[()=>Vn((u(y),M(()=>b(u(y).adjacentBombCount))))]),D(Ft,ut)};ce(oe,Ft=>{u(y),M(()=>u(y).adjacentBombCount>0)&&Ft(Ne)},!0)}D(j,q)};ce(Tt,j=>{u(y),M(()=>u(y).isBomb)?j(Ue):j(ft,!1)})}var Ye=G(ye,2),Pt=T(Ye);ze(Pt,{get icon(){return Yr},class:"text-rose-500"});var At=G(Ye,2);ge(()=>{Zt(Z,(u(y),M(()=>`--reveal-delay: ${(u(y).revealStep??0)*v}ms;`))),Le(Z,1,(u(d),u(y),$(u(we)),M(()=>`cell group relative flex h-full w-full items-center justify-center text-sm font-semibold border border-slate-300 bg-white dark:border-slate-500 dark:bg-slate-700 ${u(d)===`${u(y).row}-${u(y).col}`&&!u(y).revealed?"cell-hold":""} ${u(we)?"cell-hint":""}`)),"svelte-nkg03k"),Le(ye,1,(u(y),$(u(U)),M(()=>`cell-content ${u(y).revealed||u(U)?"cell-content--shown":""}`)),"svelte-nkg03k"),Le(Ye,1,(u(y),$(u(W)),M(()=>`cell-flag ${u(y).flagged&&!u(y).revealed||u(W)?"cell-flag--shown":""} ${u(W)?"cell-flag--wrong":""}`)),"svelte-nkg03k"),Le(At,1,(u(y),$(u(U)),M(()=>`cell-cover ${u(y).revealed||u(U)?"cell-cover--hidden":""}`)),"svelte-nkg03k")}),ie("pointerdown",Z,()=>g(u(y))),ie("pointerup",Z,()=>_(u(y))),ie("pointerleave",Z,p),ie("pointercancel",Z,p),ie("contextmenu",Z,qi(function(j){Ki.call(this,t,j)})),D(O,Z)}),D(k,P)}),ge(()=>Zt(C,($(n()),M(()=>`grid-template-columns: repeat(${n().cols}, minmax(0, 1fr)); grid-template-rows: repeat(${n().rows}, minmax(0, 1fr));`)))),D(e,w),Ct()}class ya{edgeCandidates=new Set;reset(){this.edgeCandidates=new Set}rebuild(t){const n=new Set;for(let r=0;r<t.rows;r+=1)for(let s=0;s<t.cols;s+=1)if(t.cells[r][s].revealed)for(const[a,l]of rt){const o=r+a,f=s+l;if(!st(t.rows,t.cols,o,f))continue;const c=t.cells[o][f];!c.revealed&&!c.flagged&&(c.isBomb||c.adjacentBombCount>0)&&n.add(this.keyFor(o,f))}this.edgeCandidates=n}updateFromReveal(t,n){if(!n.length)return;const r=new Set(this.edgeCandidates);for(const s of n){r.delete(this.keyFor(s.row,s.col));for(const[i,a]of rt){const l=s.row+i,o=s.col+a;if(!st(t.rows,t.cols,l,o))continue;const f=t.cells[l][o];!f.revealed&&!f.flagged&&(f.isBomb||f.adjacentBombCount>0)&&r.add(this.keyFor(l,o))}}this.edgeCandidates=r}updateForCell(t,n,r){const s=this.keyFor(n,r),i=t.cells[n][r],a=!i.revealed&&!i.flagged&&(i.isBomb||i.adjacentBombCount>0)&&this.hasRevealedNeighbor(t,n,r),l=new Set(this.edgeCandidates);a?l.add(s):l.delete(s),this.edgeCandidates=l}selectHint(t){const n=Array.from(this.edgeCandidates).filter(s=>{const{row:i,col:a}=this.parseKey(s),l=t.cells[i][a];return!l.revealed&&!l.flagged&&(l.isBomb||l.adjacentBombCount>0)});if(!n.length)return null;const r=n[Math.floor(Math.random()*n.length)];return this.parseKey(r)}keyFor(t,n){return`${t}-${n}`}parseKey(t){const[n,r]=t.split("-").map(Number);return{row:n,col:r}}hasRevealedNeighbor(t,n,r){for(const[s,i]of rt){const a=n+s,l=r+i;if(st(t.rows,t.cols,a,l)&&t.cells[a][l].revealed)return!0}return!1}}function xa(e,t,n,r,s={}){const i=s.timeBudgetMs??250,a=s.mutationSwapPercent??3,l=s.mutationPatience??100,o=s.debug??!1,f=Date.now();let c=0,v=0,d=null,h=null,g=-1,_=0,p=null,b=null,S=null,w=0,C=0;for(;c===0||Date.now()-f<i;){c+=1,d&&v>=l&&(d=null,v=0);const O=Math.max(0,a),y=Math.max(1,Math.ceil(n*O/100)),I=d?Ca(d,r,y)??dn(e,t,n,r):dn(e,t,n,r);if(p=I,I.cells[r.row][r.col].adjacentBombCount!==0)continue;b=I;const U=Ea(I,r);if(U.solved){S=I,w=U.score,C=c;break}U.score>g?(g=U.score,_=c,h=I,d=I,v=0):v+=1}const k=Date.now()-f;let N=S??h??b??p,P="last",A=null;if(S?(P="solved",A=w):h?(P="best",A=g):b&&(P="safe"),o){const O=N?Wr(N):0,y=P==="solved"?C:P==="best"?_:c,I=A===null?null:Math.round(A/(e*t)*1e3)/10;console.info(`[minesweeper] generateSolvableBoard ${JSON.stringify({rows:e,cols:t,bombs:O,selection:P,score:A,percentSolved:I,attempts:c,selectionAttempt:y,timeBudgetMs:i,elapsedMs:k})}`)}return N||dn(e,t,n,r)}function dn(e,t,n,r){const s=Jr(e,t),i=[];for(let a=0;a<e;a+=1)for(let l=0;l<t;l+=1)a===r.row&&l===r.col||i.push({row:a,col:l});for(let a=i.length-1;a>0;a-=1){const l=Math.floor(Math.random()*(a+1));[i[a],i[l]]=[i[l],i[a]]}for(let a=0;a<n&&a<i.length;a+=1){const{row:l,col:o}=i[a];s.cells[l][o].isBomb=!0}return Vr(s),s}function Sa(e,t,n){return Math.abs(e-n.row)<=1&&Math.abs(t-n.col)<=1}function ka(e){const t=Jr(e.rows,e.cols);for(let n=0;n<e.rows;n+=1)for(let r=0;r<e.cols;r+=1)e.cells[n][r].isBomb&&(t.cells[n][r].isBomb=!0);return t}function Ca(e,t,n){if(n<=0)return null;const r=ka(e),s=[],i=[];for(let a=0;a<r.rows;a+=1)for(let l=0;l<r.cols;l+=1)Sa(a,l,t)||(r.cells[a][l].isBomb?s.push({row:a,col:l}):i.push({row:a,col:l}));if(s.length<n||i.length<n)return null;for(let a=0;a<n;a+=1){const l=Math.floor(Math.random()*s.length),o=s[l];s[l]=s[s.length-1],s.pop();const f=Math.floor(Math.random()*i.length),c=i[f];i[f]=i[i.length-1],i.pop(),r.cells[o.row][o.col].isBomb=!1,r.cells[c.row][c.col].isBomb=!0}return Vr(r),r}function Vr(e){for(let t=0;t<e.rows;t+=1)for(let n=0;n<e.cols;n+=1){const r=e.cells[t][n];if(r.isBomb)continue;let s=0;for(const[i,a]of rt){const l=t+i,o=n+a;st(e.rows,e.cols,l,o)&&e.cells[l][o].isBomb&&(s+=1)}r.adjacentBombCount=s}}function Ea(e,t){const n=Array.from({length:e.rows},()=>Array.from({length:e.cols},()=>!1)),r=Array.from({length:e.rows},()=>Array.from({length:e.cols},()=>!1));let s=0,i=0;const a=e.rows*e.cols-Wr(e);s+=er(e,n,r,t.row,t.col);let l=!0;for(;l;){l=!1;const o=[],f=[],c=[];for(let v=0;v<e.rows;v+=1)for(let d=0;d<e.cols;d+=1){if(!n[v][d])continue;const h=e.cells[v][d];let g=0;const _=[];for(const[b,S]of rt){const w=v+b,C=d+S;st(e.rows,e.cols,w,C)&&(r[w][C]?g+=1:n[w][C]||_.push({row:w,col:C}))}if(!_.length)continue;const p=h.adjacentBombCount-g;p>=0&&c.push({unknowns:_,remaining:p}),h.adjacentBombCount===g?o.push(..._):h.adjacentBombCount===g+_.length&&f.push(..._)}if(!o.length&&!f.length&&c.length>1){const v=Ma(c);(v.safe.length||v.bombs.length)&&(o.push(...v.safe),f.push(...v.bombs))}for(const v of f)r[v.row][v.col]||n[v.row][v.col]||(r[v.row][v.col]=!0,i+=1,l=!0);for(const v of o){const d=er(e,n,r,v.row,v.col);d>0&&(s+=d,l=!0)}}return{solved:s>=a,score:s+i}}function Ma(e){const t=new Map,n=new Map,r=i=>`${i.row}-${i.col}`,s=e.map(i=>({remaining:i.remaining,positions:i.unknowns,keys:new Set(i.unknowns.map(r))}));for(let i=0;i<s.length;i+=1){const a=s[i];if(a.keys.size)for(let l=0;l<s.length;l+=1){if(i===l)continue;const o=s[l];if(a.keys.size>=o.keys.size)continue;let f=!0;for(const d of a.keys)if(!o.keys.has(d)){f=!1;break}if(!f)continue;const c=[];for(const d of o.positions)a.keys.has(r(d))||c.push(d);if(!c.length)continue;const v=o.remaining-a.remaining;if(!(v<0)){if(v===0)for(const d of c)t.set(r(d),d);else if(v===c.length)for(const d of c)n.set(r(d),d)}}}return{safe:Array.from(t.values()),bombs:Array.from(n.values())}}function er(e,t,n,r,s){if(t[r][s]||n[r][s]||e.cells[r][s].isBomb)return 0;let a=0;const l=[{row:r,col:s}];for(;l.length;){const o=l.shift();if(!o)continue;const{row:f,col:c}=o;if(t[f][c]||n[f][c])continue;const v=e.cells[f][c];if(!v.isBomb&&(t[f][c]=!0,a+=1,v.adjacentBombCount===0))for(const[d,h]of rt){const g=f+d,_=c+h;st(e.rows,e.cols,g,_)&&!t[g][_]&&l.push({row:g,col:_})}}return a}function Wr(e){let t=0;for(const n of e.cells)for(const r of n)r.isBomb&&(t+=1);return t}function Jr(e,t){const n=Array.from({length:e},(r,s)=>Array.from({length:t},(i,a)=>({row:s,col:a,isBomb:!1,adjacentBombCount:0,revealed:!1,flagged:!1,revealStep:null})));return{rows:e,cols:t,cells:n}}const rt=[[-1,-1],[-1,0],[-1,1],[0,-1],[0,1],[1,-1],[1,0],[1,1]];function st(e,t,n,r){return n>=0&&n<e&&r>=0&&r<t}class tr{constructor(t,n,r){this.rows=t,this.cols=n,this.bombCount=r,this.board=this.createEmptyBoard(t,n),this.hintManager=new ya}board;flagsPlaced=0;hasStarted=!1;hintManager;reset(){this.board=this.createEmptyBoard(this.rows,this.cols),this.flagsPlaced=0,this.hasStarted=!1,this.hintManager.reset()}getState(){return{board:this.board,flagsPlaced:this.flagsPlaced,hasStarted:this.hasStarted,boardRows:this.rows,boardCols:this.cols,bombCount:this.bombCount}}setState(t){this.board=t.board,this.flagsPlaced=t.flagsPlaced,this.hasStarted=t.hasStarted,this.hintManager.rebuild(this.board)}getBoard(){return this.board}getFlagsPlaced(){return this.flagsPlaced}getHasStarted(){return this.hasStarted}getRows(){return this.rows}getCols(){return this.cols}getBombCount(){return this.bombCount}toggleFlag(t,n){const r=this.board.cells[t][n];if(r.revealed)return{delta:0,blocked:!1};if(!r.flagged&&this.flagsPlaced>=this.bombCount)return{delta:0,blocked:!0};const s=this.toggleFlagCell(this.board,t,n);return this.board=s.board,this.flagsPlaced=Math.max(0,this.flagsPlaced+s.delta),this.hintManager.updateForCell(this.board,t,n),{delta:s.delta,blocked:!1}}reveal(t,n){this.hasStarted||(this.generateFirstBoard({row:t,col:n}),this.hasStarted=!0);const r=this.board.cells[t][n];if(r.revealed||r.flagged)return{outcome:"ignored",revealed:[]};if(r.isBomb)return{outcome:"bomb",revealed:[]};const s=this.revealCellInternal(this.board,t,n);return this.board=s.board,this.hintManager.updateFromReveal(this.board,s.revealed),{outcome:"revealed",revealed:s.revealed}}getHintCandidate(){return this.hintManager.selectHint(this.board)}applyHint(t,n){if(!this.hasStarted)return{action:"none",revealed:[]};const r=this.board.cells[t][n];if(r.revealed||r.flagged)return{action:"none",revealed:[]};if(r.isBomb)return this.toggleFlag(t,n).delta!==0?{action:"flag",revealed:[]}:{action:"none",revealed:[]};const s=this.revealCellInternal(this.board,t,n);return this.board=s.board,this.hintManager.updateFromReveal(this.board,s.revealed),{action:"reveal",revealed:s.revealed}}getCompletionStatus(){let t=!0,n=!0;for(const r of this.board.cells)for(const s of r)!s.revealed&&!s.flagged&&(t=!1),s.isBomb?s.flagged||(n=!1):(s.flagged||!s.revealed)&&(n=!1);return{complete:t,correct:n}}applyExistingFlags(t){for(const n of this.board.cells)for(const r of n)r.flagged&&(t.cells[r.row][r.col].flagged=!0)}generateFirstBoard(t){const n=xa(this.rows,this.cols,this.bombCount,t,{debug:!1});this.applyExistingFlags(n),this.board=n}createEmptyBoard(t,n){const r=Array.from({length:t},(s,i)=>Array.from({length:n},(a,l)=>({row:i,col:l,isBomb:!1,adjacentBombCount:0,revealed:!1,flagged:!1,revealStep:null})));return{rows:t,cols:n,cells:r}}cloneBoard(t){return{rows:t.rows,cols:t.cols,cells:t.cells.map(n=>n.map(r=>({...r})))}}toggleFlagCell(t,n,r){const s=this.cloneBoard(t),i=s.cells[n][r];return i.revealed?{board:s,delta:0}:(i.flagged=!i.flagged,{board:s,delta:i.flagged?1:-1})}revealCellInternal(t,n,r){const s=this.cloneBoard(t),i=s.cells[n][r],a=[];if(i.revealed||i.flagged)return{board:s,revealed:a};if(i.isBomb)return i.revealed=!0,i.revealStep=0,a.push({row:n,col:r}),{board:s,revealed:a};if(i.adjacentBombCount>0)return i.revealed=!0,i.revealStep=0,a.push({row:n,col:r}),{board:s,revealed:a};const l=[{row:n,col:r,dist:0}];for(;l.length;){const o=l.shift();if(!o)continue;const f=s.cells[o.row][o.col];if(!(f.revealed||f.flagged)&&(f.revealed=!0,f.revealStep=o.dist,a.push({row:o.row,col:o.col}),f.adjacentBombCount===0))for(const[c,v]of rt){const d=o.row+c,h=o.col+v;if(st(s.rows,s.cols,d,h)){const g=s.cells[d][h];!g.revealed&&!g.flagged&&!g.isBomb&&l.push({row:d,col:h,dist:o.dist+1})}}}return{board:s,revealed:a}}}const Xr="minesweeper:state:v1";function Ta(){const e=localStorage.getItem(Xr);if(!e)return null;try{return JSON.parse(e)}catch{return null}}function Pa(e){localStorage.setItem(Xr,JSON.stringify(e))}const Aa={easy:{cellPct:.075,bombPct:.15,minCellPx:34,mobileCellPct:.085,mobileMinCellPx:36},medium:{cellPct:.06,bombPct:.2,minCellPx:30,mobileCellPct:.06,mobileMinCellPx:30},hard:{cellPct:.05,bombPct:.28,minCellPx:28,mobileCellPct:.045,mobileMinCellPx:26}};function vn(e,t,n){return Math.min(n,Math.max(t,e))}function Fa(e){const{difficulty:t,viewportWidth:n,viewportHeight:r,navHeight:s,maxCellPx:i=56,minRows:a=8,maxRows:l=40}=e,o=Aa[t],f=Math.min(n,r)<500,c=Math.max(0,n),v=Math.max(0,r-s),d=f?o.mobileCellPct:o.cellPct,h=f?o.mobileMinCellPx:o.minCellPx,g=Math.min(c,v)*d,_=vn(g,h,i),p=vn(Math.floor(c/_),a,l),b=vn(Math.floor(v/_),a,l),S=Math.round(b*p*o.bombPct);return{rows:b,cols:p,bombs:S,cellPx:_,boardWidth:c,boardHeight:v}}var Ra=ne('<section class="flex flex-1 min-h-0 bg-slate-100 dark:bg-slate-950"><!></section>'),Ba=ne('<div class="fixed left-0 top-0 z-50 flex h-[100svh] w-[100svw] items-center justify-center bg-slate-900/60" role="dialog" aria-modal="true" aria-label="Select difficulty"><div class="w-[min(90vw,420px)] rounded-xl bg-white p-6 text-slate-900 shadow-xl dark:bg-slate-800 dark:text-slate-100"><p class="text-lg font-semibold text-center">Please select a difficulty</p> <div class="mt-6 flex flex-col items-center gap-3"><button type="button" class="w-40 rounded-md bg-emerald-400 px-4 py-2 text-sm font-semibold text-emerald-950 shadow hover:bg-emerald-500 dark:bg-emerald-500 dark:text-emerald-950 dark:hover:bg-emerald-400">Easy</button> <button type="button" class="w-40 rounded-md bg-amber-300 px-4 py-2 text-sm font-semibold text-amber-950 shadow hover:bg-amber-400 dark:bg-amber-400 dark:text-amber-950 dark:hover:bg-amber-300">Medium</button> <button type="button" class="w-40 rounded-md bg-rose-400 px-4 py-2 text-sm font-semibold text-rose-950 shadow hover:bg-rose-500 dark:bg-rose-500 dark:text-rose-950 dark:hover:bg-rose-400">Hard</button></div></div></div>'),Na=ne('<div class="fixed left-0 top-0 z-30 flex h-[100svh] w-[100svw] items-center justify-center bg-slate-900/50" role="dialog" aria-modal="true" aria-label="Restart confirmation"><div class="w-[min(90vw,420px)] rounded-xl bg-white p-6 text-slate-900 shadow-xl dark:bg-slate-800 dark:text-slate-100"><p class="text-lg font-semibold">Are you sure you want to restart the game?</p> <div class="mt-6 flex justify-center gap-3"><button type="button" class="rounded-md border border-slate-200 px-4 py-2 text-sm font-semibold text-slate-700 hover:bg-slate-100 dark:border-slate-600 dark:text-slate-200 dark:hover:bg-slate-700">No</button> <button type="button" class="rounded-md bg-rose-400 px-4 py-2 text-sm font-semibold text-white hover:bg-rose-500">Yes</button></div></div></div>'),Oa=ne('<p class="mt-4 text-center text-base font-semibold text-emerald-600 dark:text-emerald-400">Perfect game!</p>'),Ia=ne('<p class="mt-4 text-center text-sm text-slate-600 dark:text-slate-300"><span> </span> <span class="mx-2"> </span></p>'),La=ne('<p class="mt-4 text-center text-sm text-rose-600 dark:text-rose-300">There is a mistake somewhere.</p>'),Da=ne('<div class="fixed left-0 top-0 z-40 flex h-[100svh] w-[100svw] items-center justify-center bg-slate-900/60" role="dialog" aria-modal="true" aria-label="Game completed"><div class="relative w-[min(90vw,440px)] rounded-xl bg-white p-6 text-slate-900 shadow-xl dark:bg-slate-800 dark:text-slate-100"><button type="button" class="absolute left-3 top-3 inline-flex h-8 w-8 items-center justify-center rounded-md text-slate-400 hover:bg-slate-100 hover:text-slate-600 dark:hover:bg-slate-700 dark:hover:text-slate-200" aria-label="Close game summary">Ã</button> <p class="text-lg font-semibold text-center">Game complete!</p> <p class="mt-2 text-center text-sm text-slate-600 dark:text-slate-300"> </p> <!></div></div>'),ja=ne('<main class="relative min-h-screen flex flex-col bg-slate-50 text-slate-900 dark:bg-slate-900 dark:text-slate-100"><div><!></div> <!> <!> <!> <!></main>');function za(e,t){kt(t,!1);const n=L(),r=L();let s=L((localStorage.getItem("theme")??"dark")==="dark"),i=L(0),a=L(null),l=L(null),o=L(null),f=L(0),c=!1,v=L(!1),d=!1,h=L(!1),g=L(!0),_=L(0),p=L(0),b=L([]),S=L([]),w=L([]),C=L(0),k=L(!1),N=L(null),P=L(!0),A=null;function O(x){const E=Math.floor(x/3600),z=Math.floor(x%3600/60),J=x%60;return E>0?`${E}:${String(z).padStart(2,"0")}:${String(J).padStart(2,"0")}`:`${z}:${String(J).padStart(2,"0")}`}function y(){u(l)&&(m(o,u(l).getBoard()),m(f,u(l).getFlagsPlaced()),c=u(l).getHasStarted(),At())}async function I(x){await mi();const E=u(N)?.offsetHeight??0,z=Fa({difficulty:x,viewportWidth:window.innerWidth,viewportHeight:window.innerHeight,navHeight:E}),{rows:J,cols:Y,bombs:ve}=z;m(a,ve),m(l,new tr(J,Y,ve)),ye(),d=!1,m(h,!1),m(g,!0),m(_,0),m(p,0),m(b,[]),m(S,[]),m(w,[]),m(C,0),y(),m(v,!0),u(l)?.getHasStarted()&&!d&&W()}function U(x){m(P,!1),I(x)}function we(x){const{game:E,elapsedSeconds:z}=x;E.boardRows,E.boardCols,m(a,E.bombCount),m(l,new tr(E.boardRows,E.boardCols,E.bombCount)),u(l).setState(E),y(),m(i,z),m(_,x.mistakes??0),m(p,x.hintsUsed??0),m(v,!0),u(l).getHasStarted()&&!d&&W()}function W(){A||(A=setInterval(()=>{m(i,u(i)+1)},1e3))}function Z(){A&&(clearInterval(A),A=null)}function ye(){Z(),m(i,0)}function Tt(){ye(),m(l,null),m(o,null),m(f,0),c=!1,m(a,null),d=!1,m(h,!1),m(g,!0),m(_,0),m(p,0),m(b,[]),m(S,[]),m(w,[]),m(C,0),m(P,!0)}function Ue(){!u(l)||!u(l).getHasStarted()||m(k,!0)}function ft(){m(k,!1),Tt()}function Ye(){m(k,!1)}function Pt(){m(h,!1)}function At(){if(d||!u(l))return;const x=u(l).getCompletionStatus();x.complete&&(d=!0,m(g,x.correct),m(h,!0),Z())}function j(){m(i,u(i)+10),m(C,u(C)+1)}function q(x){typeof navigator>"u"||!("vibrate"in navigator)||navigator.vibrate(x==="mistake"?[30,40,30]:12)}function oe(x,E){if(d||!u(l))return;const J=u(l).reveal(x,E);if(!c&&u(l).getHasStarted()&&W(),J.outcome==="bomb"){m(_,u(_)+1),j(),q("mistake");const Y=`${x}-${E}`;u(b).includes(Y)||m(b,[...u(b),Y]),setTimeout(()=>{m(b,u(b).filter(ve=>ve!==Y))},1e3);return}J.outcome==="revealed"&&(q("reveal"),y())}function Ne(x,E){if(d||!u(l))return;const z=u(l);if(!z.getHasStarted())return;const Y=z.getBoard().cells[x][E];if(!Y.flagged&&!Y.isBomb){m(_,u(_)+1),j(),q("mistake");const Ve=`${x}-${E}`;u(w).includes(Ve)||m(w,[...u(w),Ve]),setTimeout(()=>{m(w,u(w).filter(un=>un!==Ve))},700);return}z.toggleFlag(x,E).blocked||(q("reveal"),y())}function Ft(){if(d||!u(l)||!u(l).getHasStarted())return;const x=u(l),E=x.getHintCandidate();if(!E)return;m(p,u(p)+1);const z=`${E.row}-${E.col}`;j(),m(S,[...u(S),z]),setTimeout(()=>{const J=x.applyHint(E.row,E.col);J.action!=="none"&&(J.action==="reveal"&&q("reveal"),y()),m(S,u(S).filter(Y=>Y!==z))},1e3)}$i(()=>{document.documentElement.classList.toggle("dark",u(s));const x=Ta();return x?(m(P,!1),we(x)):m(P,!0),ye}),je(()=>u(i),()=>{m(n,O(u(i)))}),je(()=>(u(a),u(f)),()=>{m(r,Math.max(0,(u(a)??0)-u(f)))}),je(()=>u(s),()=>{localStorage.setItem("theme",u(s)?"dark":"light"),document.documentElement.classList.toggle("dark",u(s))}),je(()=>(u(v),u(l),u(o),u(i),u(_),u(p)),()=>{u(v)&&u(l)&&u(o)&&Pa({game:u(l).getState(),elapsedSeconds:u(i),mistakes:u(_),hintsUsed:u(p)})}),Fn(),on();var ut=ja(),Rt=T(ut),fn=T(Rt);pa(fn,{get timeLabel(){return u(n)},get bombsLeft(){return u(r)},get penaltyAnimationKey(){return u(C)},get isDarkTheme(){return u(s)},set isDarkTheme(x){m(s,x)},$$events:{restart:Ue,hint:Ft},$$legacy:!0}),Ur(Rt,x=>m(N,x),()=>u(N));var Bn=G(Rt,2);{var Zr=x=>{var E=Ra(),z=T(E);wa(z,{get board(){return u(o)},longPressMs:350,get bombFlashKeys(){return u(b)},get hintFlashKeys(){return u(S)},get wrongFlagKeys(){return u(w)},onReveal:oe,onToggleFlag:Ne}),We(1,E,()=>Yt,()=>({duration:200,start:.98})),D(x,E)};ce(Bn,x=>{u(o)&&x(Zr)})}var Nn=G(Bn,2);{var Qr=x=>{var E=Ba(),z=T(E),J=G(T(z),2),Y=T(J),ve=G(Y,2),Ve=G(ve,2);ie("click",Y,()=>U("easy")),ie("click",ve,()=>U("medium")),ie("click",Ve,()=>U("hard")),We(3,z,()=>Yt,()=>({duration:180,start:.96})),We(3,E,()=>cn,()=>({duration:150})),D(x,E)};ce(Nn,x=>{u(P)&&x(Qr)})}var On=G(Nn,2);{var es=x=>{var E=Na(),z=T(E),J=G(T(z),2),Y=T(J),ve=G(Y,2);ie("click",Y,Ye),ie("click",ve,ft),We(3,z,()=>Yt,()=>({duration:180,start:.96})),We(3,E,()=>cn,()=>({duration:150})),D(x,E)};ce(On,x=>{u(k)&&x(es)})}var ts=G(On,2);{var ns=x=>{var E=Da(),z=T(E),J=T(z),Y=G(J,4),ve=T(Y),Ve=G(Y,2);{var un=ct=>{var qt=Dt(),ss=wt(qt);{var is=dt=>{var Kt=Oa();D(dt,Kt)},as=dt=>{var Kt=Ia(),In=T(Kt),ls=T(In),os=G(In,2),fs=T(os);ge(()=>{nt(ls,`Mistakes: ${u(_)??""}`),nt(fs,`Hints: ${u(p)??""}`)}),D(dt,Kt)};ce(ss,dt=>{u(_)===0&&u(p)===0?dt(is):dt(as,!1)})}D(ct,qt)},rs=ct=>{var qt=La();D(ct,qt)};ce(Ve,ct=>{u(g)?ct(un):ct(rs,!1)})}ge(()=>nt(ve,`Final time: ${u(n)??""}`)),ie("click",J,Pt),We(3,z,()=>Yt,()=>({duration:180,start:.96})),We(3,E,()=>cn,()=>({duration:150})),D(x,E)};ce(ts,x=>{u(h)&&x(ns)})}D(e,ut),Ct()}Si(za,{target:document.getElementById("app")});
